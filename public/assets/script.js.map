{"version":3,"sources":["../../src/script/script.js"],"names":["scene","THREE","Scene","plane","plane_god","controls","geometry","geometry_god","renderer","camera","model","SEGX","SEGY","startTime","Date","rotate_speed","count","target_v","vm","Vue","el","data","methods","countUp","changeRotateSpeed","vm_stop","hsStop","Speed_0","renderFlag","light","ambient","width","height","modelPath","DirectionalLight","position","set","add","PerspectiveCamera","window","innerWidth","innerHeight","lookAt","Vector3","gridHelper","GridHelper","axisHelper","AxisHelper","lightHelper","DirectionalLightHelper","OrbitControls","autoRotate","autoRotateSpeed","WebGLRenderer","antialias","alpha","setSize","setClearColor","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","domElement","loader","TextureLoader","load","texture","PlaneGeometry","minFilter","LinearFilter","material","MeshBasicMaterial","map","transparent","Mesh","helper","VertexNormalsHelper","wireframe","WireframeGeometry","line","LineSegments","depthTest","opacity","BoxHelper","fnh","FaceNormalsHelper","loader2","material_god","scale","render","verticesNeedUpdate","time","console","log","vertex","vertices","z","before_vertex","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["\n\nlet scene = new THREE.Scene();\nlet plane;\nlet plane_god;\nlet controls;\nlet geometry;\nlet geometry_god;\nlet renderer;\nlet camera;\nlet model = [];\nlet SEGX = 6;\nlet SEGY = 6;\nlet startTime = new Date();\nlet rotate_speed = 0;\n\nlet count = 1;\nlet target_v = 1;\n//let model = {};\n\n\nlet vm = new Vue({\n  el: '#mycounter',\n  data: {\n    count: 0\n  },\n  methods: {\n    countUp: function() {\n            this.count++;\n              changeRotateSpeed ();\n      }\n  }\n});\n\nlet vm_stop = new Vue({\n  el: '#mystop',\n  methods: {\n    hsStop: function() {\n            Speed_0();\n    }\n  }\n});\n\nfunction renderFlag () {\n  'use strict';\n  let light;\n  let ambient;\n  let width = 1000;\n  let height = 750;\n  let modelPath ;\n\n   //light\n   //light = new THREE.PointLight(0xffffff,2);\n   //light.position.set(100,0,300);\n   //scene.add(light);\n\n  light = new THREE.DirectionalLight(0xffffff, 1);\n  light.position.set(100, 0, 300);\n  scene.add(light);\n/*\n  ambient = new THREE.AmbientLight(0x404040);\n  scene.add(ambient);\n*/\n  //camera\n  //camera = new THREE.PerspectiveCamera(45, width /　height, 1 , 1000);\n  camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 4000);\n  camera.position.set(0,0,1000);\n  camera.lookAt(new THREE.Vector3(0,0,0));\n\n//  camera.position.set(0, 400, 300);\n//  camera.lookAt(scene.position);\n\n  // helper 現在は非表示\n  let gridHelper = new THREE.GridHelper(200, 50);\n  scene.add(gridHelper);\n  let axisHelper = new THREE.AxisHelper(1000);\n  scene.add(axisHelper);\n  let lightHelper = new THREE.DirectionalLightHelper(light , 20)\n  scene.add(lightHelper);\n\n  //controls\n  controls = new THREE.OrbitControls(camera);\n  //cameraの自動回転\n  controls.autoRotate = true;\n  controls.autoRotateSpeed = 1.5;\n\n  // renderer\n  renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true  });\n  renderer.setSize(width, height);\n  renderer.setClearColor(0xffffff);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  document.getElementById('stage').appendChild(renderer.domElement);\n\n  //var texture = new THREE.TextureLoader().load(\"./public/img/italy.jpg\");\n  //var texture = new THREE.TextureLoader().load(\"./public/img/dice.jpg\");\n  //テクスチャ読み込み\n  let loader = new THREE.TextureLoader();\n  //let texture=loader.load('./public/img/dice.jpg');\n  // loader.load('./public/img/yoko.jpg', (texture) => {\n  loader.load('./public/img/yoko.jpg', (texture) => {\n    geometry = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n    //let geometry = new THREE.PlaneGeometry( 5, 20, 32 );\n\n    texture.minFilter = THREE.LinearFilter;\n    let material = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n    //let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n    //var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n    //var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n    plane = new THREE.Mesh(geometry, material);\n    let helper = new THREE.VertexNormalsHelper( plane, 2, 0xee0000, 1 );\n    scene.add(helper);\n    // let helper_wier = new THREE.WireframeGeometry( plane, 20, 0xee0000, 1 );\n    // scene.add(helper_wier);\n\n    let wireframe = new THREE.WireframeGeometry( geometry );\n    let line = new THREE.LineSegments( wireframe );\n    line.material.depthTest = false;\n    line.material.opacity = 1;\n    line.material.transparent = true;\n    scene.add( new THREE.BoxHelper( line ) );\n    scene.add( line );\n\n\n    let fnh = new THREE.FaceNormalsHelper( plane, 5 );\n    scene.add( fnh );\n\n\n\n    scene.add(plane);\n\n\n    let loader2 = new THREE.TextureLoader();\n    loader.load('./public/img/flag_moyo.png', (texture) => {\n      geometry_god = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n      let material_god = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n      //let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n      //var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n      //var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n      plane_god = new THREE.Mesh(geometry_god, material_god);\n      plane_god.scale.set(0.7, 0.7, 0.7);\n\n      //scene.add(plane_god);\n      render();\n    });\n  });\n  //console.log(texture);\n  //texture.needsUpdate = true;\n  //var geometry = new THREE.PlaneGeometry(1300, 1228, SEGX, SEGY);\n}\n\nfunction render () {\n\n  plane.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n  plane_god.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n  let time = (new Date() - startTime)/1000;\n\n\n  //任意のバーテックスを変える\n　count++;\n\n\n  if (count %  120   == 0 ){\n    target_v++;\n    console.log(target_v);\n    let vertex =  plane.geometry.vertices[target_v];\n    vertex.z = 50;\n    let before_vertex =  plane.geometry.vertices[target_v - 1];\n    before_vertex.z = 0;\n  }\n\n//    for (let i=0;i<SEGX+1;i++) {\n//      for (let j=0;j<SEGY+1;j++) {\n//        //(i,j)のvertexを得る\n//        let index = j * (SEGX + 1) + i % (SEGX + 1);\n//        let vertex = plane.geometry.vertices[index];\n// // //      let vertex_god = plane_god.geometry.vertices[index];\n//        //時間経過と頂点の位置によって波を作る\n//        let amp=100;//振幅\n//        //vertex.z = amp * Math.sin( -i/2 + time*10 );\n//        // vertex_god.z = amp * Math.sin( -i/2 + time*10) + 200;\n//      }\n//    }\n\n  // plane_god.rotation.z += rotate_speed;\n  requestAnimationFrame(render);\n  //controls.update();\n  renderer.render(scene, camera);\n}\n\nrenderFlag();\n\nfunction changeRotateSpeed () {\n  //controls.autoRotateSpeed = vm.count*10;\n   rotate_speed -= vm.count*0.01;\n}\n\nfunction Speed_0 () {\n  vm.count = 0;\n  rotate_speed = 0;\n   //addSpinner();\n}\n"]}
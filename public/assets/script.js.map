{"version":3,"sources":["../../src/script/script.js"],"names":["scene","THREE","Scene","plane","plane_god","controls","geometry","geometry_god","renderer","camera","model","SEGX","SEGY","startTime","Date","rotate_speed","count","target_v","vm","Vue","el","data","methods","countUp","changeRotateSpeed","vm_stop","hsStop","Speed_0","renderFlag","light","ambient","width","height","modelPath","DirectionalLight","position","set","add","PerspectiveCamera","window","innerWidth","innerHeight","lookAt","Vector3","gridHelper","GridHelper","axisHelper","AxisHelper","lightHelper","DirectionalLightHelper","OrbitControls","autoRotate","autoRotateSpeed","WebGLRenderer","antialias","alpha","setSize","setClearColor","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","domElement","loader","TextureLoader","load","texture","PlaneGeometry","minFilter","LinearFilter","material","MeshBasicMaterial","map","transparent","Mesh","helper","VertexNormalsHelper","wireframe","WireframeGeometry","line","LineSegments","depthTest","opacity","BoxHelper","fnh","FaceNormalsHelper","loader2","material_god","scale","render","verticesNeedUpdate","time","console","log","vertex","vertices","z","before_vertex","rotation","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["\n\nlet scene = new THREE.Scene();\nlet plane;\nlet plane_god;\nlet controls;\nlet geometry;\nlet geometry_god;\nlet renderer;\nlet camera;\nlet model = [];\nlet SEGX = 6;\nlet SEGY = 6;\nlet startTime = new Date();\nlet rotate_speed = 0;\n\nlet count = 1;\nlet target_v = 1;\n//let model = {};\n\n\nlet vm = new Vue({\n  el: '#mycounter',\n  data: {\n    count: 0\n  },\n  methods: {\n    countUp: function() {\n            this.count++;\n            \tchangeRotateSpeed ();\n      }\n  }\n});\n\nlet vm_stop = new Vue({\n  el: '#mystop',\n  methods: {\n    hsStop: function() {\n            Speed_0();\n    }\n  }\n});\n\nfunction renderFlag () {\n  'use strict';\n  let light;\n  let ambient;\n  let width = 1000;\n  let height = 750;\n\tlet modelPath ;\n\n   //light\n\t //light = new THREE.PointLight(0xffffff,2);\n\t //light.position.set(100,0,300);\n\t //scene.add(light);\n\n  light = new THREE.DirectionalLight(0xffffff, 1);\n  light.position.set(100, 0, 300);\n  scene.add(light);\n/*\n  ambient = new THREE.AmbientLight(0x404040);\n  scene.add(ambient);\n*/\n\t//camera\n  //camera = new THREE.PerspectiveCamera(45, width /　height, 1 , 1000);\n\tcamera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 4000);\n\tcamera.position.set(0,0,1000);\n  camera.lookAt(new THREE.Vector3(0,0,0));\n\n//  camera.position.set(0, 400, 300);\n//  camera.lookAt(scene.position);\n\n  // helper 現在は非表示\n  let gridHelper = new THREE.GridHelper(200, 50);\n  scene.add(gridHelper);\n  let axisHelper = new THREE.AxisHelper(1000);\n  scene.add(axisHelper);\n  let lightHelper = new THREE.DirectionalLightHelper(light , 20)\n  scene.add(lightHelper);\n\n  //controls\n  controls = new THREE.OrbitControls(camera);\n  //cameraの自動回転\n  controls.autoRotate = true;\n  controls.autoRotateSpeed = 1.5;\n\n  // renderer\n  renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true  });\n  renderer.setSize(width, height);\n  renderer.setClearColor(0xffffff);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  document.getElementById('stage').appendChild(renderer.domElement);\n\n\t//var texture = new THREE.TextureLoader().load(\"./public/img/italy.jpg\");\n\t//var texture = new THREE.TextureLoader().load(\"./public/img/dice.jpg\");\n\t//テクスチャ読み込み\n\tlet loader = new THREE.TextureLoader();\n\t//let texture=loader.load('./public/img/dice.jpg');\n\t// loader.load('./public/img/yoko.jpg', (texture) => {\n\tloader.load('./public/img/yoko.jpg', (texture) => {\n\t\tgeometry = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n\t\t//let geometry = new THREE.PlaneGeometry( 5, 20, 32 );\n\n\t\ttexture.minFilter = THREE.LinearFilter;\n\t\tlet material = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n\t\t//let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\tplane = new THREE.Mesh(geometry, material);\n\t\tlet helper = new THREE.VertexNormalsHelper( plane, 2, 0xee0000, 1 );\n\t\tscene.add(helper);\n\t\t// let helper_wier = new THREE.WireframeGeometry( plane, 20, 0xee0000, 1 );\n\t\t// scene.add(helper_wier);\n\n\t\tlet wireframe = new THREE.WireframeGeometry( geometry );\n\t\tlet line = new THREE.LineSegments( wireframe );\n\t\tline.material.depthTest = false;\n\t\tline.material.opacity = 1;\n\t\tline.material.transparent = true;\n\t\tscene.add( new THREE.BoxHelper( line ) );\n\t\tscene.add( line );\n\n\n\t\tlet fnh = new THREE.FaceNormalsHelper( plane, 5 );\n\t\tscene.add( fnh );\n\n\n\n\t\tscene.add(plane);\n\n\n\t\tlet loader2 = new THREE.TextureLoader();\n\t\tloader.load('./public/img/flag_moyo.png', (texture) => {\n\t\t\tgeometry_god = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n\t\t\tlet material_god = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n\t\t\t//let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\tplane_god = new THREE.Mesh(geometry_god, material_god);\n\t\t\tplane_god.scale.set(0.7, 0.7, 0.7);\n\n\t\t\t//scene.add(plane_god);\n\t\t\trender();\n\t\t});\n\t});\n\t//console.log(texture);\n\t//texture.needsUpdate = true;\n\t//var geometry = new THREE.PlaneGeometry(1300, 1228, SEGX, SEGY);\n}\n\nfunction render () {\n\n\tplane.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n\tplane_god.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n\tlet time = (new Date() - startTime)/1000;\n\n\n\t//任意のバーテックスを変える\n　count++;\n\n\n\tif (480 % count == 0 ){\n\t\ttarget_v++;\n\t\tconsole.log(target_v);\n\t\tlet vertex =\tplane.geometry.vertices[target_v];\n\t\tvertex.z = 50;\n\t\tlet before_vertex =\tplane.geometry.vertices[target_v - 1];\n\t\tbefore_vertex.z = 0;\n\t}\n\n//  \tfor (let i=0;i<SEGX+1;i++) {\n//  \t\tfor (let j=0;j<SEGY+1;j++) {\n//  \t\t\t//(i,j)のvertexを得る\n//  \t\t\tlet index = j * (SEGX + 1) + i % (SEGX + 1);\n//  \t\t\tlet vertex = plane.geometry.vertices[index];\n// // //\t\t\tlet vertex_god = plane_god.geometry.vertices[index];\n//  \t\t\t//時間経過と頂点の位置によって波を作る\n//  \t\t\tlet amp=100;//振幅\n//  \t\t\t//vertex.z = amp * Math.sin( -i/2 + time*10 );\n//  \t\t\t// vertex_god.z = amp * Math.sin( -i/2 + time*10) + 200;\n//  \t\t}\n//  \t}\n\n\tplane_god.rotation.z += rotate_speed;\n  requestAnimationFrame(render);\n\t//controls.update();\n  renderer.render(scene, camera);\n}\n\nrenderFlag();\n\nfunction changeRotateSpeed () {\n  //controls.autoRotateSpeed = vm.count*10;\n \trotate_speed -= vm.count*0.01;\n}\n\nfunction Speed_0 () {\n  vm.count = 0;\n  rotate_speed = 0;\n \t//addSpinner();\n}\n"]}